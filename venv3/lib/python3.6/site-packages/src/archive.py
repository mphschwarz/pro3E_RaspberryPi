import math
import time
import matplotlib.pyplot as plt

class DataPoint:
    """mean data over a measuring period"""
    def __init__(self, volt, amp, phase, frequency):
        """
        :param volt: rms value of voltage
        :param amp: rms value of current
        :param phase: radian value of phase
        :param frequency: voltage frequency
        """
        self.time_stamp = time.time()  # time stamp in unix-time
        self.voltage = volt
        self.currant = amp
        self.phase = phase
        self.frequency = frequency
        self.real_power = volt*amp*math.cos(phase)
        self.imag_power = volt*amp*math.sin(phase)

    def __repr__(self):
        return '{}; {}, {}, {}, {}; {}, {}'.format(self.time_stamp,
                                                   self.voltage, self.currant, self.phase, self.frequency,
                                                   self.real_power, self.imag_power)

def plot_data_points(data_points):
    time = [data_point.time_stamp for data_point in data_points]
    real_power = [data_point.real_power for data_point in data_points]
    imag_power = [data_point.imag_power for data_point in data_points]


